<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Public Downloads</title>
<style>
  body { font-family: Arial, sans-serif; background-color: #f5f6fa; margin: 0; padding: 20px; text-align: center; }
  h1 { font-size: 2rem; color: #2f3640; }
  p { font-size: 1.1rem; color: #555; max-width: 700px; margin: 10px auto 30px; }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
  .card img { width: 100%; height: 180px; object-fit: cover; }
  .card h3 { margin: 10px; color: #2f3640; }
  .card p { font-size: 0.95rem; color: #555; margin: 0 10px 10px; flex-grow: 1; }
  .card a {
    display: block; margin: 10px; padding: 10px;
    background: #0097e6; color: white; text-decoration: none;
    border-radius: 8px; font-weight: bold;
  }
  .card a:hover { background: #007bb5; }
</style>
</head>
<body>
  <h1>Public Downloads</h1>
  <p>Explore free design uploads shared by creators. Preview and download any source file instantly.</p>

  <div id="cards" class="grid"></div>

  <script>
    async function loadItems() {
      const res = await fetch("/items");
      const items = await res.json();
      const container = document.getElementById("cards");
      container.innerHTML = "";

      items.forEach(item => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="${item.image}" alt="${item.title}">
          <h3>${item.title}</h3>
          <p>${item.description}</p>
          ${item.source ? `<a href="${item.source}" download>Download Source</a>` : ""}
        `;
        container.appendChild(card);
      });
    }
    loadItems();
  </script>
</body>
</html>
